document.addEventListener("DOMContentLoaded",(function(){const Toast=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:toast=>{toast.addEventListener("mouseenter",Swal.stopTimer),toast.addEventListener("mouseleave",Swal.resumeTimer)}}),loginForm=document.getElementById("teacher-login-form");loginForm&&loginForm.addEventListener("submit",(function(event){event.preventDefault();const usernameEmail=document.getElementById("username-email").value.trim(),password=document.getElementById("password").value,rememberMe=document.getElementById("remember-me").checked,submitButton=loginForm.querySelector('button[type="submit"]'),originalText=submitButton.innerHTML;submitButton.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Signing In...',submitButton.disabled=!0;const loginData={email:usernameEmail,password:password,remember:rememberMe};axios.post("/api/login/teacher/processTeacherLogin.php",loginData).then((function(response){const data=response.data;"success"===data.status?(Toast.fire({icon:"success",title:data.message||"Login successful!"}),setTimeout((()=>{window.location.href=data.redirect||"/teacher/dashboard/"}),1e3)):(Toast.fire({icon:"error",title:data.message||"Login failed. Please try again."}),submitButton.innerHTML=originalText,submitButton.disabled=!1)})).catch((function(error){console.error("Login error:",error),Toast.fire({icon:"error",title:"Network error. Please check your connection and try again."}),submitButton.innerHTML=originalText,submitButton.disabled=!1}))}));const usernameEmailInput=document.getElementById("username-email"),passwordInput=document.getElementById("password");usernameEmailInput&&usernameEmailInput.addEventListener("blur",(function(){""===this.value.trim()?(this.classList.add("border-red-500"),this.classList.remove("border-gray-300")):(this.classList.remove("border-red-500"),this.classList.add("border-gray-300"))})),passwordInput&&passwordInput.addEventListener("blur",(function(){""===this.value?(this.classList.add("border-red-500"),this.classList.remove("border-gray-300")):(this.classList.remove("border-red-500"),this.classList.add("border-gray-300"))}))}));