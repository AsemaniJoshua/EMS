document.addEventListener("DOMContentLoaded",(function(){const Toast=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:toast=>{toast.addEventListener("mouseenter",Swal.stopTimer),toast.addEventListener("mouseleave",Swal.resumeTimer)}}),loginForm=document.getElementById("adminLoginForm");loginForm&&loginForm.addEventListener("submit",(function(e){e.preventDefault();const submitBtn=this.querySelector('button[type="submit"]'),originalBtnText=submitBtn.innerHTML;submitBtn.disabled=!0,submitBtn.innerHTML='<i class="fas fa-spinner fa-spin"></i> Signing in...';const email=this.querySelector('input[type="email"]').value,password=this.querySelector('input[type="password"]').value,remember=this.querySelector('input[type="checkbox"]').checked;axios.post("/api/login/admin/processLogin.php",{email:email,password:password,remember:remember}).then((function(response){const data=response.data;"success"===data.status?(Toast.fire({icon:"success",title:data.message||"Login successful!"}),setTimeout((()=>{window.location.href=data.redirect||"/admin/dashboard/"}),1e3)):(Toast.fire({icon:"error",title:data.message||"Login failed. Please try again."}),submitBtn.disabled=!1,submitBtn.innerHTML=originalBtnText)})).catch((function(error){console.error("Login error:",error),Toast.fire({icon:"error",title:"An error occurred. Please try again."}),submitBtn.disabled=!1,submitBtn.innerHTML=originalBtnText}))}))}));